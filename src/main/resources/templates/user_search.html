<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Form Example</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gJllsgVzZz0VZHIy+D+2X0FEPbl5ilbqOJMi6jrv3J/3gP1cQxveFhpfssZOp8C4" crossorigin="anonymous">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  
  

<style>
		.navbar{
			margin-top:0px;
		}
        body {
         margin-top: 0px;
            font-family: Arial, sans-serif;
           
            background-color: #6f80af;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
        	
        	height: 500px;
            width: 40%;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            margin-top: 0;
            text-align: center;
        }

        form {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 8px;
        }

        input[type="text"],
        select {
            padding: 8px;
            margin-bottom: 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
       #formButton{
       	float: right;
       	margin-left:1200px;
       }
        input[type="submit"] {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            align-self: center;
        }

        input[type="submit"]:hover {
            background-color: rgb(37, 162, 254);
        }

        p {
            margin: 0;
            color: red;
            font-size: 14px;
            align-self: center;
        }
        .card-body{
        height:10px;
        }
        
        
    </style>
    
    <script>
    
    window.onload = function () {
        if (window.history && window.location.href.includes("home")) {
            window.history.pushState(null, null, window.location.href);
            window.onpopstate = function () {
                window.history.go(1);
            };
        }
    };
    </script>

</head>
<body>    
   <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
       
        
        
        <form class="form-inline my-2 my-lg-0"  action="/logout">
            <button class="btn btn-outline-success my-2 my-sm-0"  id="formButton" type="submit">Logout</button>
        </form>
    </div>
</nav>
<div th:if="${not #lists.isEmpty(us)}" class="container mt-3 position-fixed top-0 end-0" style="max-width: 175px;height:250px;">
    <div class="card" >
        <div class="card-body" style="padding: 0.3rem; ">
            <h6 class="card-title mb-0">Profile</h6>
            <ul class="list-group list-group-flush">
                <li th:each="user : ${us}" class="list-group-item py-1">
                    <span><strong>Email:</strong></span> <span class="float-right" th:text="${user.email}"></span>
                </li>
                <li th:each="user : ${us}" class="list-group-item py-1">
                    <span><strong>Name:</strong></span> <span class="float-right" th:text="${user.name}"></span>
                </li>
            </ul>
        </div>
    </div>
</div>




     

     <div class="container mt-5">
        <h2>Enter the Data</h2>
        <form th:action="@{/result}" method="post" onsubmit="return validateForm()">
            <label for="Dept">Department:</label>
            <select id="s_department"    name="s_department" required>
               <option selected>health</option>
                <option>education</option>  
                <option>agriculture</option>
                <option>insurance</option>      
                <option>financial inclusion</option>    
                <option>housing</option> 
            </select>
            
                
            <label for="age">Age:</label>
            <input type="number" id="s_age" name="s_age" placeholder="Enter your age" required>
            <p id="wrongAge"></p>


            
            <label for="Dept">Gender:</label>
            <select id="s_gender"    name="s_gender" required>
                
                <option selected>male</option>
                <option>female</option>
                 <option>both</option>
            </select>
            
            <label for="income">Annual Income:</label>
            <input type="number" id="s_income" name="s_income" placeholder="Enter your age"  required>
            <p id="wrongIncome"></p>
            
            <label for="cat">Category:</label>
            <select id="s_caste" name="s_caste" required>
               
                <option selected>OPEN</option>
                <option>SC</option>
                <option>ST</option>
                <option>OBC</option>
                <option>VJNT</option>
            </select>
            
            
         
            <input type="submit" value="Submit">
        </form>
    </div>
    <script>
        function validateForm() {
            var age = document.getElementById("s_age").value;
            var income = document.getElementById("s_income").value;
            var agePattern = /^[0-9]+$/; // Pattern to allow only digits
            var incomePattern = /^[0-9]+$/; // Pattern to allow only digits

            if (!agePattern.test(age)) {
                document.getElementById("wrongAge").innerHTML = "Age should contain only digits";
                return false;
            } 
            if (!incomePattern.test(income)) {
                document.getElementById("wrongIncome").innerHTML = "Income should contain only digits";
                return false;
            } 
            return true; // Form submission allowed if all validations pass
        }
        
          
        // Add this script to your pages where you want to prevent the back button
       
    
</script>
 
</body>
</html>

















